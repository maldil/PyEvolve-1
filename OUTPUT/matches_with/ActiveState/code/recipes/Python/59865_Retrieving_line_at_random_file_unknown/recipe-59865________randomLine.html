<link rel="stylesheet" href="../../../../..//default.css">
<script src="../../../../..//highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><pre><code class='java'>
<a href="https://github.com/ActiveState/code/blob/master/recipes/Python/59865_Retrieving_line_at_random_file_unknown/recipe-59865.py#L3">GitHubLink</a>


<a href="https://github.com/maldil/code/blob/master/recipes/Python/59865_Retrieving_line_at_random_file_unknown/recipe-59865.py#L3">GitMyHubLink</a>

import random

def randomLine(<a id="change">filename</a>):
	"Retrieve a  random line from a file, reading through the file once"
	<a id="change">fh = open(filename, "r")</a>
	<a id="change">lineNum = 0</a>
	<a id="change">it = &quot&quot</a>

	while 1:
		<a id="change">aLine = fh.readline()</a>
		<a id="change">lineNum = lineNum + 1</a>
		if aLine != "":
			&#47&#47
			&#47&#47 How likely is it that this is the last line of the file ? 
			if random.uniform(0,lineNum)&lt;1:
				<a id="change">it = aLine</a>
		else:
			break

	<a id="change">fh</a><a id="change">.close()</a>

	return it
</code></pre>