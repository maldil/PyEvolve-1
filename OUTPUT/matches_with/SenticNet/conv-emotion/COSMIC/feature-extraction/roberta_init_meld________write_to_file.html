<link rel="stylesheet" href="../../../..//default.css">
<script src="../../../..//highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><pre><code class='java'>
<a href="https://github.com/SenticNet/conv-emotion/blob/master/COSMIC/feature-extraction/roberta_init_meld.py#L5">GitHubLink</a>


<a href="https://github.com/maldil/conv-emotion/blob/master/COSMIC/feature-extraction/roberta_init_meld.py#L5">GitMyHubLink</a>

import pickle

speakers, emotion_labels, sentiment_labels, sentences, train_ids, test_ids, valid_ids = pickle.load(open(&quotmeld/meld.pkl&quot, &quotrb&quot))

def write_to_file(ids, split):
    <a id="change">f1</a><a id="change"> = open(&quotmeld/&quot + split + &quot.input0&quot, &quotw&quot)</a>
    <a id="change">f2</a><a id="change"> = open(&quotmeld/&quot + split + &quot.label&quot, &quotw&quot)</a>
    
    for item in ids:
        sent = sentences[item]
        label = emotion_labels[item]
        
        for s, l in zip(sent, label):
            x = <a id="change">s</a>.encode(&quotascii&quot, errors=&quotignore&quot).decode("utf-8")
            <a id="change">f1</a>.write(x + &quot\n&quot)
            <a id="change">f2</a>.write(str(l) + &quot\n&quot)
    
    <a id="change">f1</a><a id="change">.close()</a>
    <a id="change">f2</a><a id="change">.close()</a>

write_to_file(train_ids, &quottrain&quot)
write_to_file(valid_ids, &quotvalid&quot)
write_to_file(test_ids, &quottest&quot)</code></pre>